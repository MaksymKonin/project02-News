{"mappings":"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","sources":["src/js/currentLink.js","src/js/refs.js","src/js/changeTheme.js","src/js/newsApiService.js","src/js/localStorage.js","src/js/changeStatusNews.js","src/js/markupCard.js","src/js/renderNews.js","src/js/pages/favorite.js"],"sourcesContent":["const links = document.querySelectorAll('.navigation-list__link');\n\nexport default function setNewActiveLink() {\n  const links = document.querySelectorAll('.navigation-list__link');\n  links.forEach(link => {\n    if (link.classList.contains('navigation-list__link--current'))\n      link.classList.remove('navigation-list__link--current');\n    let currentHref = window.location.href;\n    if (currentHref.includes(link.getAttribute('href')))\n      link.classList.add('navigation-list__link--current');\n  });\n}\n","export const refs = {\n  formEl: document.querySelector('.js-form-search'),\n  containerCategoriesEl: document.querySelector('.js-categories'),\n  containerCardEl: document.querySelector('.js-container-card'),\n  weatherCard: document.querySelector('.weather__card'),\n  containerPaginationEl: document.querySelector('.js-pagination'),\n  checkBoxEl: document.querySelector('.theme-switch__toggle'),\n  bodyEl: document.querySelector('body'),\n  dateTimePicker: document.querySelector('#datetime-picker'),\n  calendarWrapper: document.querySelector('.filters-section-calendar-wrapper'),\n  lightTheme: document.querySelector('.light-theme'),\n  darkTheme: document.querySelector('.dark-theme'),\n};\n","// Theme switch\nimport { refs } from './refs';\nexport default function changeTheme() {\n  refs.checkBoxEl.addEventListener('change', goDark);\n  goTeal();\n}\nconst theme = {\n  light: 'light-theme',\n  dark: 'dark-theme',\n};\n\nconst storageKey = 'themeKey';\nconst toggle = document.querySelector('.theme__track');\n\nfunction goDark(event) {\n  if (event.target.checked) {\n    refs.bodyEl.classList.remove('ligth-theme');\n    refs.bodyEl.classList.add('dark-theme');\n    // refs.darkTheme.classList.add('goDark');\n    refs.lightTheme.classList.remove('goLight');\n    toggle.classList.add('toggleDark');\n    toggle.classList.remove('toggleLight');\n    localStorage.setItem(storageKey, JSON.stringify(theme.dark));\n  } else {\n    refs.bodyEl.classList.remove('dark-theme');\n    refs.bodyEl.classList.add('ligth-theme');\n    // refs.darkTheme.classList.remove('goDark');\n    refs.lightTheme.classList.add('goLight');\n    toggle.classList.add('toggleLight');\n    toggle.classList.remove('toggleDark');\n    localStorage.setItem(storageKey, JSON.stringify(theme.light));\n  }\n}\n\nfunction goTeal() {\n  const saveTheme = localStorage.getItem(storageKey);\n  if (!saveTheme) {\n    refs.bodyEl.classList.add('ligth-theme');\n    localStorage.setItem(storageKey, JSON.stringify(theme.light));\n  } else {\n    const parseTheme = JSON.parse(saveTheme);\n    if (parseTheme === 'dark-theme') {\n      refs.bodyEl.classList.add('dark-theme');\n      refs.checkBoxEl.checked = true;\n    }\n  }\n}\n","const SEARCH_NEWS_URL =\n  'https://api.nytimes.com/svc/search/v2/articlesearch.json';\nconst POPULAR_NEWS_URL = 'https://api.nytimes.com/svc/mostpopular/v2/viewed';\nconst CATEGORIES_LIST_URL =\n  'https://api.nytimes.com/svc/news/v3/content/section-list.json';\nconst POPULAR_NEWS_DAYS = 7;\nconst API_KEY = 'H4EzmbJjzcMKAQjlOxUvVd6TipG3GhzM';\n\nexport default class newsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 0;\n    this.pageNum = 1;\n    this.requestNum = 1;\n  }\n\n  resetData() {\n    this.page = 0;\n    this.pageNum = 1;\n    this.requestNum = 1;\n  }\n\n  getSearchNews() {\n    return fetch(\n      `${SEARCH_NEWS_URL}?q=${this.searchQuery}&page=${this.page}&api-key=${API_KEY}`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n\n  getPopularNews() {\n    return fetch(\n      `${POPULAR_NEWS_URL}/${POPULAR_NEWS_DAYS}.json?api-key=${API_KEY}`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n\n  getlistCategories() {\n    return fetch(`${CATEGORIES_LIST_URL}?api-key=${API_KEY}`).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n\n  getDateAndCategoryNews(selectedDate, selectedCategories) {\n    let SEARCH_BY_DATE = '';\n    let SEARCH_BY_CATEGORIES = '';\n    if (selectedCategories) {\n      SEARCH_BY_CATEGORIES = `&fq=news_desk:(${selectedCategories})`;\n    }\n    SEARCH_BY_DATE =\n      !selectedDate || selectedDate === null\n        ? `?api-key=${API_KEY}&page=${this.page}`\n        : `?facet_field=day_of_week&facet=true&begin_date=${selectedDate}&end_date=${selectedDate}&api-key=${API_KEY}`;\n\n    return fetch(\n      `${SEARCH_NEWS_URL}${SEARCH_BY_DATE}${SEARCH_BY_CATEGORIES}`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n}\n","import NewsApiService from './newsApiService';\nconst newsApiService = new NewsApiService();\nexport default class localStorageService {\n  constructor() {\n    this.keySavedFilters = 'Filters';\n    this.FAVORITES_NEWS = 'favorite-news';\n    this.PAGINATION_NEWS = 'pagination-news';\n    this.CLICKED_PAGES = 'clickedPages';\n    this.PAGE_DATA_NEWS = 'pageDataNews';\n    this.CALENDAR_PARAMETERS = 'calendarParameters';\n  }\n  save(key, value) {\n    try {\n      const valueJson = JSON.stringify(value);\n      localStorage.setItem(key, valueJson);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  load(key) {\n    try {\n      const data = localStorage.getItem(key);\n      return data === null ? undefined : JSON.parse(data);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  loadFilters() {\n    return this.load(this.keySavedFilters)\n      ? this.load(this.keySavedFilters)\n      : undefined;\n  }\n  saveDataFilters(date) {\n    let filters = this.loadFilters() ? this.loadFilters() : {};\n    filters.selectedDate = date;\n    this.save(this.keySavedFilters, filters);\n  }\n  saveCategoriesFilters(categories) {\n    let filters = this.loadFilters() ? this.loadFilters() : {};\n    filters.selectedCategories = categories;\n    this.save(this.keySavedFilters, filters);\n  }\n\n  loadDataFilters() {\n    let filters = this.loadFilters();\n    let selectedDate = filters?.selectedDate ? filters.selectedDate : null;\n    return selectedDate;\n  }\n\n  loadCategoriesFilters() {\n    let filters = this.loadFilters();\n    let selectedCategories = filters?.selectedCategories\n      ? filters.selectedCategories.join('\", \"')\n      : '\"\"';\n    return selectedCategories;\n  }\n}\n","import LocalStorageService from '../js/localStorage';\nconst HAVE_READ = 'have-read-id';\nconst FAVORITES_NEWS = 'favorite-news';\nlet haveReadArray = [];\nlet favoritesNewsArray = [];\n\nconst localStorageService = new LocalStorageService();\n\nexport default function changeStatusNews(normalizedData) {\n  setDefaultParams(normalizedData);\n  saveHaveReadNews(normalizedData);\n  saveFavoriteNews(normalizedData);\n  return removeFavoriteNews(normalizedData);\n}\n\nfunction saveHaveReadNews(normalizedData) {\n  let haveReadData = localStorageService.load(HAVE_READ);\n\n  let newsId = []\n\n  const currentDate = new Date().getTime();\n\n  const readMoreButtons = document.querySelectorAll('.read-more');\n  let readMoreArray = Array.from(readMoreButtons);\n\n  readMoreArray.map(readMoreLink => {\n    readMoreLink.addEventListener('click', event => {\n      haveReadData = localStorageService.load(HAVE_READ);\n\n      if (haveReadData) {\n        haveReadData.map(newsObject => {\n          newsId.push(newsObject.id)\n        })\n      }\n        \n      const haveReadStatus =\n        event.target.parentNode.parentNode.parentNode.firstElementChild;\n      haveReadStatus.style.display = 'block';\n\n      const parentLi = event.target.parentNode.parentNode.parentNode.parentNode;\n      const parentLiId = parentLi.dataset.idNews;\n      const isIncludeId = newsId.includes(parentLiId);\n  \n      if (!isIncludeId) {\n        normalizedData.map(element => {\n          if (String(element.id_news) === parentLiId) {\n            const haveReadObj = {\n              id: parentLiId,\n              abstract: element.abstract,\n              page_url: element.page_url,\n              photo_url: element.photo_url,\n              published_date: element.published_date,\n              section: element.section,\n              title: element.title,\n              date: currentDate,\n            };\n            haveReadArray.push(haveReadObj);\n            localStorageService.save(HAVE_READ, haveReadArray);\n          }\n        });\n      }\n    });\n  });\n}\n\nfunction saveFavoriteNews(normalizedData) {\n  const addFavoriteButtons = document.querySelectorAll('.add-status-js');\n\n  let favoriteButtonsArray = Array.from(addFavoriteButtons);\n\n  favoriteButtonsArray.map(addButtonHTML => {\n    addButtonHTML.addEventListener('click', event => {\n      const addButton = event.target;\n      const removeButton = addButton.nextElementSibling;\n      const parentLi = addButton.parentNode.parentNode;\n      const parentLiId = parentLi.dataset.idNews;\n\n      addButton.style.display = 'none';\n      removeButton.style.display = 'block';\n\n      normalizedData.map(element => {\n        if (String(element.id_news) === parentLiId) {\n          favoritesNewsArray.push(element);\n          localStorageService.save(FAVORITES_NEWS, favoritesNewsArray);\n        }\n      });\n    });\n  });\n}\n\nfunction removeFavoriteNews(normalizedData) {\n  const removeFavoriteButtons = document.querySelectorAll('.remove-status-js');\n  let removeFavoriteButtonsArray = Array.from(removeFavoriteButtons);\n\n  let favoriteNewsID = [];\n\n  favoritesNewsArray = localStorageService.load(FAVORITES_NEWS) || [];\n  if (favoritesNewsArray.length !== 0) {\n    favoritesNewsArray.map(item => {\n      favoriteNewsID.push(item.id_news);\n    });\n  }\n\n  removeFavoriteButtonsArray.map(removeButtonHTML => {\n    removeButtonHTML.addEventListener('click', event => {\n      const removeButton = event.target;\n      const addButton = removeButton.previousElementSibling;\n      const parentLi = removeButton.parentNode.parentNode;\n      const parentLiId = parentLi.dataset.idNews;\n\n      addButton.style.display = 'block';\n      removeButton.style.display = 'none';\n\n      normalizedData.map(element => {\n        if (String(element.id_news) === parentLiId) {\n          const index = favoriteNewsID.indexOf(element.id_news);\n          favoritesNewsArray.splice(index, 1);\n          localStorageService.save(FAVORITES_NEWS, favoritesNewsArray);\n        }\n      });\n    });\n  });\n}\n\nfunction setDefaultParams(normalizedData) {\n  const favoriteNews = localStorageService.load(FAVORITES_NEWS);\n  const haveRead = localStorageService.load(HAVE_READ);\n\n  let haveReadId = [];\n\n  if (haveRead) {\n    haveRead.map(haveReadItem => {\n      haveReadId.push(haveReadItem.id);\n    });\n  }\n\n  let favoriteNewsID = [];\n\n  if (favoriteNews) {\n    favoriteNews.map(item => {\n      favoriteNewsID.push(item.id_news);\n    });\n    normalizedData.map(element => {\n      const isFavorite = favoriteNewsID.includes(element.id_news);\n\n      if (isFavorite) {\n        const favoriteLi = document.querySelector(\n          `[data-id-news=\"${element.id_news}\"]`\n        );\n        const divTape = favoriteLi.firstElementChild;\n        const buttonAdd = divTape.querySelector('.add-status-js');\n        const buttonRemove = divTape.querySelector('.remove-status-js');\n\n        buttonAdd.style.display = 'none';\n        buttonRemove.style.display = 'block';\n      }\n\n      const isHaveRead = haveReadId.includes(String(element.id_news));\n\n      if (isHaveRead) {\n        const haveReadLi = document.querySelector(\n          `[data-id-news=\"${element.id_news}\"]`\n        );\n        const divTape = haveReadLi.firstElementChild;\n        const haveReadStatus = divTape.querySelector('.status-reed');\n\n        haveReadStatus.style.display = 'block';\n      }\n    });\n  }\n}\n","export default function markupCard(card) {\n  const {\n    id_news,\n    photo_url,\n    page_url,\n    section,\n    statusFavorite,\n    title,\n    abstract,\n    published_date,\n  } = card;\n  return `\n    <li data-id-news=\"${id_news}\" class=\"js-card\">\n      <div class=\"use-text-tape\">\n        <span class=\"status-reed\">Have read</span>\n        <span class=\"job-text\">\"${section}\"</span>\n        <button class=\"status-favorite add-status add-status-js\" type=\"button\">${statusFavorite}</button>\n        <button class=\"status-favorite remove-status remove-status-js\" type=\"button\">Remove from favorite</button>\n      <div>\n      <div class=\"card-img-wrapper\">\n      <img class=\"card-img\" src=\"${photo_url}\" alt=\"photo news\" />\n      </div>\n      <a href=\"${page_url}\" target=\"_blank\"><h2 class=\"page-url\">${title}</h2></a>\n      <p class=\"abstract-text\">${abstract}</p>\n      <div>\n        <span class=\"published-date\">${published_date}</span>\n        <a class=\"read-more\" target=\"_blank\" href=\"${page_url}\">Read more</a>\n      </div>\n    </li>\n    `;\n}\n","import markupCard from './markupCard';\nimport { refs } from './refs';\n//ф-я рендер всих карток новин\nfunction renderNews(paginationPage) {\n  if (!paginationPage || paginationPage?.length === 0) {\n    return;\n  }\n  let cards = paginationPage\n    .map(Data => {\n      return markupCard(Data);\n    })\n    .join('');\n  refs.containerCardEl.insertAdjacentHTML('beforeend', cards);\n}\n// створення карточки без новин\nfunction createCardNotFound() {\n  refs.weatherCard?.classList.add('is-display-none');\n  const card = `<div class=\"not-found-container\"><h1 class=\"not-found-title\">We haven’t found news from <br/> this category</h1>\n  <div class=\"not-found-img\"></div></div>`;\n  refs.containerCardEl.insertAdjacentHTML('beforeend', card);\n}\n//ф-я очистки контейнера новин\nfunction clearMarkupNews() {\n  if (refs.weatherCard?.classList.contains('is-display-none')) {\n    refs.weatherCard?.classList.remove('is-display-none');\n  }\n  if (document.querySelector('.not-found-container')) {\n    document.querySelector('.not-found-container').remove();\n  }\n  const cards = document.querySelectorAll('.js-card');\n  cards.forEach(card => {\n    card.remove();\n  });\n}\n\nexport { renderNews, createCardNotFound, clearMarkupNews };\n","import setNewActiveLink from '../currentLink';\nimport changeTheme from '../changeTheme';\nimport LocalStorageService from '../localStorage';\nimport changeStatusNews from '../changeStatusNews';\nimport { renderNews, createCardNotFound, clearMarkupNews } from '../renderNews';\nimport { refs } from '../refs';\nrefs.containerCardEl.addEventListener('click', onClick);\nconst localStorageService = new LocalStorageService();\nconst favoriteNews = localStorageService.load(\n  localStorageService.FAVORITES_NEWS\n);\n\nsetNewActiveLink();\nchangeTheme();\nclearMarkupNews();\ncreateFavoriteNews(favoriteNews);\n\nfunction onClick(evt) {\n  if (evt.target.nodeName === 'BUTTON') location.reload();\n}\n\nfunction createFavoriteNews(favoriteNews) {\n  if (!favoriteNews || favoriteNews?.length === 0) {\n    createCardNotFound();\n    return;\n  }\n  renderNews(favoriteNews);\n  changeStatusNews(favoriteNews);\n}\n"],"names":["document","querySelectorAll","$37e33676934ad046$export$21666b427502ea6d","formEl","querySelector","containerCategoriesEl","containerCardEl","weatherCard","containerPaginationEl","checkBoxEl","bodyEl","dateTimePicker","calendarWrapper","lightTheme","darkTheme","$26adcc4345f36f52$var$theme","light","dark","$26adcc4345f36f52$var$storageKey","$26adcc4345f36f52$var$toggle","$26adcc4345f36f52$var$goDark","event","target","checked","classList","remove","add","localStorage","setItem","JSON","stringify","$ed7d4f7bc93ce3e6$var$SEARCH_NEWS_URL","$ed7d4f7bc93ce3e6$var$API_KEY","resetData","this","page","pageNum","requestNum","getSearchNews","fetch","searchQuery","then","responce","ok","Error","statusText","json","getPopularNews","getlistCategories","getDateAndCategoryNews","selectedDate","selectedCategories","SEARCH_BY_DATE","SEARCH_BY_CATEGORIES","constructor","$0aa9cd13c14a6e1e$export$2e2bcd8739ae039","save","key","value","valueJson","error","console","load","data","getItem","undefined","parse","loadFilters","keySavedFilters","saveDataFilters","date","filters","saveCategoriesFilters","categories","loadDataFilters","loadCategoriesFilters","join","FAVORITES_NEWS","PAGINATION_NEWS","CLICKED_PAGES","PAGE_DATA_NEWS","CALENDAR_PARAMETERS","$a79beb69995e5452$var$HAVE_READ","$a79beb69995e5452$var$FAVORITES_NEWS","$a79beb69995e5452$var$haveReadArray","$a79beb69995e5452$var$favoritesNewsArray","$a79beb69995e5452$var$localStorageService","$a79beb69995e5452$export$2e2bcd8739ae039","normalizedData","favoriteNews","haveRead","haveReadId","map","haveReadItem","push","id","favoriteNewsID","item","id_news","element","includes","divTape","firstElementChild","buttonAdd","buttonRemove","style","display","String","$a79beb69995e5452$var$setDefaultParams","haveReadData","newsId","currentDate","Date","getTime","readMoreButtons","Array","from","readMoreLink","addEventListener","newsObject","parentNode","parentLiId","dataset","idNews","haveReadObj","abstract","page_url","photo_url","published_date","section","title","$a79beb69995e5452$var$saveHaveReadNews","addFavoriteButtons","addButtonHTML","addButton","removeButton","nextElementSibling","$a79beb69995e5452$var$saveFavoriteNews","removeFavoriteButtons","removeFavoriteButtonsArray","length","removeButtonHTML","previousElementSibling","index","indexOf","splice","$a79beb69995e5452$var$removeFavoriteNews","$f89979fc2c26965e$export$2e2bcd8739ae039","card","statusFavorite","$e289e9ca0d298efc$export$df7427830660d8ef","paginationPage","cards","Data","insertAdjacentHTML","$e289e9ca0d298efc$export$b140b7e270e2aa2f","evt","nodeName","location","reload","$f232087f2eb0250b$var$localStorageService","$f232087f2eb0250b$var$favoriteNews","forEach","link","contains","window","href","getAttribute","saveTheme","$26adcc4345f36f52$var$goTeal","$f232087f2eb0250b$var$createFavoriteNews"],"version":3,"file":"favorite.9e334cbc.js.map"}