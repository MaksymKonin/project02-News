!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},n.parcelRequired7c6=o),o.register("jrRl1",(function(t,n){e(t.exports,"renderNews",(function(){return s})),e(t.exports,"createCardNotFound",(function(){return i})),e(t.exports,"clearMarkupNews",(function(){return c}));var r=o("llhWr"),a=o("4Nugj");function s(e){var t=e.map((function(e){return(0,r.default)(e)})).join("");a.refs.containerCardEl.insertAdjacentHTML("beforeend",t)}function i(){a.refs.weatherCard.classList.add("is-hidden"),console.log(5);a.refs.containerCardEl.insertAdjacentHTML("beforeend",'<div class="not-found-container"><h1 class="not-found-title">We havenâ€™t found news from <br/> this category</h1>\n  <div class="not-found-img"></div></div>')}function c(){a.refs.weatherCard.classList.contains("is-hidden")&&a.refs.weatherCard.classList.remove("is-hidden"),document.querySelector(".not-found-container")&&document.querySelector(".not-found-container").remove(),document.querySelectorAll(".js-card").forEach((function(e){e.remove()}))}})),o.register("llhWr",(function(t,n){function r(e){var t=e.id_news,n=e.photo_url,r=e.page_url,a=e.section,o=e.statusFavorite,s=e.title,i=e.abstract,c=e.published_date;return'\n    <li data-id-news="'.concat(t,'" class="js-card">\n      <div class="use-text-tape">\n        <span class="status-reed">Have read</span>\n        <span class="job-text">"').concat(a,'"</span>\n        <button class="status-favorite add-status add-status-js" type="button">').concat(o,'</button>\n        <button class="status-favorite remove-status remove-status-js" type="button">Remove from favorite</button>\n      <div>\n      <div class="card-img-wrapper">\n      <img class="card-img" src="').concat(n,'" alt="photo news" />\n      </div>\n      <a href="').concat(r,'"><h2 class="page-url">').concat(s,'</h2></a>\n      <p class="abstract-text">').concat(i,'</p>\n      <div>\n        <span class="published-date">').concat(c,'</span>\n        <a class="read-more" target="_blank" href="').concat(r,'">Read more</a>\n      </div>\n    </li>\n    ')}e(t.exports,"default",(function(){return r}))})),o.register("4Nugj",(function(t,n){e(t.exports,"refs",(function(){return r}));var r={formEl:document.querySelector(".js-form-search"),containerCategoriesEl:document.querySelector(".js-categories"),containerCardEl:document.querySelector(".js-container-card"),weatherCard:document.querySelector(".weather__card"),containerPaginationEl:document.querySelector(".js-pagination"),checkBoxEl:document.querySelector(".theme-switch__toggle"),bodyEl:document.querySelector("body"),dateTimePicker:document.querySelector("#datetime-picker"),calendarWrapper:document.querySelector(".filters-section-calendar-wrapper")}})),o.register("eob6s",(function(t,n){e(t.exports,"default",(function(){return u}));var r=o("UL92Z"),a="have-read-id",s="favorite-news",i=[],c=[],l=new(0,r.default);function u(e){return function(e){var t=l.load(s),n=l.load(a),r=[];n&&n.map((function(e){r.push(e.id)}));var o=[];t&&(t.map((function(e){o.push(e.id_news)})),e.map((function(e){if(o.includes(e.id_news)){var t=document.querySelector('[data-id-news="'.concat(e.id_news,'"]')).firstElementChild,n=t.querySelector(".add-status-js"),a=t.querySelector(".remove-status-js");n.style.display="none",a.style.display="block"}r.includes(String(e.id_news))&&(document.querySelector('[data-id-news="'.concat(e.id_news,'"]')).firstElementChild.querySelector(".status-reed").style.display="block")})))}(e),function(e){var t=l.load(a);t&&t.map((function(e){var t={id:e.id,abstract:e.abstract,page_url:e.page_url,photo_url:e.photo_url,published_date:e.published_date,section:e.section,title:e.title,date:e.date};i.push(t)}));var n=(new Date).getTime(),r=document.querySelectorAll(".read-more");Array.from(r).map((function(t){t.addEventListener("click",(function(t){t.target.parentNode.parentNode.parentNode.firstElementChild.style.display="block";var r=t.target.parentNode.parentNode.parentNode.parentNode.dataset.idNews;i.includes(r)||e.map((function(e){if(String(e.id_news)===r){var t={id:r,abstract:e.abstract,page_url:e.page_url,photo_url:e.photo_url,published_date:e.published_date,section:e.section,title:e.title,date:n};i.push(t),l.save(a,i)}}))}))}))}(e),function(e){var t=document.querySelectorAll(".add-status-js");Array.from(t).map((function(t){t.addEventListener("click",(function(t){var n=t.target,r=n.nextElementSibling,a=n.parentNode.parentNode.dataset.idNews;n.style.display="none",r.style.display="block",e.map((function(e){String(e.id_news)===a&&(c.push(e),l.save(s,c))}))}))}))}(e),function(e){var t=document.querySelectorAll(".remove-status-js"),n=Array.from(t),r=[];0!==(c=l.load(s)||[]).length&&c.map((function(e){r.push(e.id_news)}));n.map((function(t){t.addEventListener("click",(function(t){var n=t.target,a=n.previousElementSibling,o=n.parentNode.parentNode.dataset.idNews;a.style.display="block",n.style.display="none",e.map((function(e){if(String(e.id_news)===o){var t=r.indexOf(e.id_news);c.splice(t,1),l.save(s,c)}}))}))}))}(e)}})),o.register("UL92Z",(function(n,r){e(n.exports,"default",(function(){return i}));var a=o("8MBJY"),s=o("a2hTj"),i=(new(0,o("ko9ms").default),function(){"use strict";function e(){t(a)(this,e),this.keySavedFilters="Filters",this.FAVORITES_NEWS="favorite-news"}return t(s)(e,[{key:"save",value:function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error(e)}}},{key:"load",value:function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e)}}},{key:"loadFilters",value:function(){return this.load(this.keySavedFilters)?this.load(this.keySavedFilters):void 0}},{key:"saveDataFilters",value:function(e){console.log("saveDataFilters");var t=this.loadFilters()?this.loadFilters():{};t.selectedDate=e,this.save(this.keySavedFilters,t)}},{key:"saveCategoriesFilters",value:function(e){console.log("saveCategoriesFilters");var t=this.loadFilters()?this.loadFilters():{};t.selectedCategories=e,this.save(this.keySavedFilters,t)}},{key:"loadDataFilters",value:function(){console.log("loadDataFilters");var e=this.loadFilters(),t=(null==e?void 0:e.selectedDate)?e.selectedDate:null;return console.log(t),t}},{key:"loadCategoriesFilters",value:function(){console.log("loadCategoriesFilters");var e=this.loadFilters(),t=(null==e?void 0:e.selectedCategories)?e.selectedCategories.join('", "'):'""';return console.log(t),t}}]),e}())})),o.register("8MBJY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),o.register("a2hTj",(function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){t&&n(e.prototype,t);r&&n(e,r);return e}})),o.register("ko9ms",(function(n,r){e(n.exports,"default",(function(){return l}));var a=o("8MBJY"),s=o("a2hTj"),i="https://api.nytimes.com/svc/search/v2/articlesearch.json",c="H4EzmbJjzcMKAQjlOxUvVd6TipG3GhzM",l=function(){"use strict";function e(){t(a)(this,e),this.searchQuery="",this.SEARCH_BY_DATE_URL=this.page=0,this.loadCards=0}return t(s)(e,[{key:"getsearchNews",value:function(){var e=this;return fetch("".concat(i,"?q=").concat(this.searchQuery,"&page=").concat(this.page,"&api-key=").concat(c)).then((function(t){if(!t.ok)throw new Error(t.statusText);return e.nextPage(),t.json()}))}},{key:"nextPage",value:function(){this.page+=1}},{key:"resetData",value:function(){this.page=0,this.loadCards=0}},{key:"addLoadCards",value:function(e){this.loadCards=this.loadCards+e}},{key:"getpopularNews",value:function(){return fetch("".concat("https://api.nytimes.com/svc/mostpopular/v2/viewed","/").concat(7,".json?api-key=").concat(c)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))}},{key:"getlistCategories",value:function(){return fetch("".concat("https://api.nytimes.com/svc/news/v3/content/section-list.json","?api-key=").concat(c)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))}},{key:"getDateAndCategoryNews",value:function(e,t){var n,r="";return t&&(r="&fq=news_desk:(".concat(t,")")),console.log(e),n=e&&null!==e?"?facet_field=day_of_week&facet=true&begin_date=".concat(e,"&end_date=").concat(e,"&api-key=").concat(c):"?api-key=".concat(c),fetch("".concat(i).concat(n).concat(r)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))}}]),e}()}))}();
//# sourceMappingURL=index.41c3e5aa.js.map
