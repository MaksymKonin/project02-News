{"mappings":"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","sources":["src/js/localStorage.js","<<jsx-config-pragma.js>>","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/newsApiService.js"],"sourcesContent":["import NewsApiService from './newsApiService';\nconst newsApiService = new NewsApiService();\nexport default class localStorageService {\n  constructor() {\n    this.keySavedFilters = 'Filters';\n  }\n  save(key, value) {\n    try {\n      const valueJson = JSON.stringify(value);\n      localStorage.setItem(key, valueJson);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  load(key) {\n    try {\n      const data = localStorage.getItem(key);\n      return data === null ? undefined : JSON.parse(data);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  loadFilters() {\n    return this.load(this.keySavedFilters)\n      ? this.load(this.keySavedFilters)\n      : undefined;\n  }\n  saveDataFilters(date) {\n    console.log('saveDataFilters');\n    let filters = this.loadFilters() ? this.loadFilters() : {};\n    filters.selectedDate = date;\n    this.save(this.keySavedFilters, filters);\n  }\n  saveCategoriesFilters(categories) {\n    console.log('saveCategoriesFilters');\n    let filters = this.loadFilters() ? this.loadFilters() : {};\n    filters.selectedCategories = categories;\n    this.save(this.keySavedFilters, filters);\n  }\n\n  loadDataFilters() {\n    console.log('loadDataFilters');\n    let filters = this.loadFilters();\n    let selectedDate = filters?.selectedDate ? filters.selectedDate : null;\n    console.log(selectedDate);\n    return selectedDate;\n  }\n\n  loadCategoriesFilters() {\n    console.log('loadCategoriesFilters');\n    let filters = this.loadFilters();\n    let selectedCategories = filters?.selectedCategories\n      ? filters.selectedCategories.join('\", \"')\n      : '\"\"';\n    console.log(selectedCategories);\n    return selectedCategories;\n  }\n}\n",null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","import axios from 'axios';\n\nconst SEARCH_NEWS_URL =\n  'https://api.nytimes.com/svc/search/v2/articlesearch.json';\nconst POPULAR_NEWS_URL = 'https://api.nytimes.com/svc/mostpopular/v2/viewed';\nconst CATEGORIES_LIST_URL =\n  'https://api.nytimes.com/svc/news/v3/content/section-list.json';\nconst POPULAR_NEWS_DAYS = 7;\nconst API_KEY = 'H4EzmbJjzcMKAQjlOxUvVd6TipG3GhzM';\n\nexport default class newsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.SEARCH_BY_DATE_URL = this.page = 0;\n    this.loadCards = 0;\n  }\n\n  getsearchNews() {\n    return fetch(\n      `${SEARCH_NEWS_URL}?q=${this.searchQuery}&page=${this.page}&api-key=${API_KEY}`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      this.nextPage();\n      return responce.json();\n    });\n  }\n\n  nextPage() {\n    this.page += 1;\n  }\n\n  resetData() {\n    this.page = 0;\n    this.loadCards = 0;\n  }\n\n  addLoadCards(quantityLoadCards) {\n    this.loadCards = this.loadCards + quantityLoadCards;\n  }\n\n  getpopularNews() {\n    return fetch(\n      `${POPULAR_NEWS_URL}/${POPULAR_NEWS_DAYS}.json?api-key=${API_KEY}`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n\n  getlistCategories() {\n    return fetch(`${CATEGORIES_LIST_URL}?api-key=${API_KEY}`).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n\n  getDateAndCategoryNews(selectedDate, selectedCategories) {\n    let SEARCH_BY_DATE = '';\n    let SEARCH_BY_CATEGORIES = '';\n\n    if (selectedCategories) {\n      SEARCH_BY_CATEGORIES = `&fq=news_desk:(${selectedCategories})`;\n    }\n    console.log(selectedDate);\n    SEARCH_BY_DATE =\n      !selectedDate || selectedDate === null\n        ? `?api-key=${API_KEY}`\n        : `?facet_field=day_of_week&facet=true&begin_date=${selectedDate}&end_date=${selectedDate}&api-key=${API_KEY}`;\n\n    return fetch(\n      `${SEARCH_NEWS_URL}${SEARCH_BY_DATE}${SEARCH_BY_CATEGORIES}`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n}\n"],"names":["$8MBJY","parcelRequire","$0aa9cd13c14a6e1e$export$2e2bcd8739ae039","default","localStorageService","this","keySavedFilters","key","value","valueJson","JSON","stringify","localStorage","setItem","error","console","data","getItem","undefined","parse","load","date","log","filters","loadFilters","selectedDate","save","categories","selectedCategories","join","Object","defineProperty","module","exports","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","$ed7d4f7bc93ce3e6$var$SEARCH_NEWS_URL","$ed7d4f7bc93ce3e6$var$API_KEY","$ed7d4f7bc93ce3e6$export$2e2bcd8739ae039","newsApiService","searchQuery","SEARCH_BY_DATE_URL","page","loadCards","fetch","concat","then","responce","ok","Error","statusText","_this","nextPage","json","quantityLoadCards","SEARCH_BY_DATE","SEARCH_BY_CATEGORIES"],"version":3,"file":"read.3c3c0052.js.map"}